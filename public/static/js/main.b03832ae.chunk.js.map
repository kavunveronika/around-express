{"version":3,"sources":["Images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithImage.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddNewCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwned","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","event","target","localName","onCardClick","aria-label","onCardDelete","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","PopupWithImage","onClose","api","options","this","url","baseUrl","authorization","fetch","headers","then","res","ok","json","Promise","reject","status","newInfo","method","body","JSON","stringify","newCard","title","id","avatarUrl","PopupWithForm","isOpen","noValidate","onSubmit","type","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","value","required","minLength","maxLength","onChange","defaultValue","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","ref","AddNewCardPopup","setTitle","setUrl","onAddCard","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialCards","result","catch","err","console","log","getUserInfo","Provider","deleteCard","newCards","filter","c","error","addLike","updateUserInfo","data","postNewCard","updateAvatar","current","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b03832ae.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from \"../Images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Around the US logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","function Footer() {\r\n    return (\r\n      <footer>\r\n        <p className=\"footer__copyright\">© 2020. Veronika Bowersock</p>\r\n      </footer>\r\n    );\r\n  }\r\n  \r\n  export default Footer;\r\n  ","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const isOwned = currentUser && props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = \r\n    `images__delete  ${isOwned ? ``: `images__delete_hidden`}`;\r\n  \r\n\r\n  const isLiked = props.card.likes.some(i=> currentUser && i._id === currentUser._id);\r\n  \r\n  \r\n  const cardLikeButtonClassName = `images__like-button  ${isLiked ? `images__like-button_active`: ``}`\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick(){\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  \r\n  function handleCardClick (event) {\r\n    //this is the only way i could make this work. event.preventDefault doesn't work here and I don't know why. If you have any better suggestion, I'm all ears but I spent hours scouring google and stackoverflow and this is the only solution that stopped the event from firing)\r\n    if (event.target.localName !== \"button\"){\r\n      props.onCardClick(props.card);\r\n    }\r\n  }\r\n    return (\r\n      <li className=\"images__card\">\r\n        <div\r\n          className=\"images__picture\"\r\n          style={{ backgroundImage: `url(${props.card.link})` }}\r\n          onClick={handleCardClick}>\r\n          <button \r\n            className={cardDeleteButtonClassName} \r\n            aria-label=\"Delete image\" \r\n            onClick={handleDeleteClick}></button>\r\n        </div>\r\n        <div className=\"images__caption\">\r\n          <p className=\"images__text\">{props.card.name}</p>\r\n          <div className=\"images__like\">\r\n            <button\r\n              className={cardLikeButtonClassName}\r\n              aria-label=\"Like image\"\r\n              onClick = {handleLikeClick}\r\n            ></button>\r\n            <span className=\"images__like-count\">{props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n  export default Card;","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\nimport Card from \"./Card\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"main-content\">\r\n      <section className=\"profile\">\r\n        <img className=\"profile__image\" src={currentUser && currentUser.avatar} alt=\"profile pic\"/>\r\n        <div className=\"profile__overlay\" onClick={props.onEditAvatar}>\r\n          <button\r\n            className=\"profile__overlay_button\"\r\n            aria-label=\"change avatar\"\r\n            \r\n          />\r\n        </div>\r\n        <div className=\"profile__description\">\r\n          <div className=\"profile__name\">\r\n            <h1 className=\"profile__text\">{currentUser && currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__edit\"\r\n              aria-label=\"Edit profile\"\r\n              onClick={props.onEditProfile}\r\n            />\r\n          </div>\r\n          <p className=\"profile__occupation\">{currentUser && currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add\"\r\n          aria-label=\"Add image\"\r\n          onClick={props.onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"images\">\r\n      <ul className=\"images__list\">\r\n        {props.cards.map((card) => (\r\n          <Card \r\n            key={card._id} \r\n            card={card} \r\n            onCardClick={props.onCardClick} \r\n            onCardLike = {props.onCardLike}\r\n            onCardDelete = {props.onCardDelete}\r\n            />\r\n        ))}\r\n      </ul>\r\n    </section>                \r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function PopupWithImage(props) {\r\n    return (\r\n      <div className={`popup popup_image ${props.card ? \"\" : \"popup_hidden\"}`}>\r\n        <div className=\"popup__content popup__content_fullscreen\">\r\n          <button\r\n            name=\"close_button\"\r\n            className=\"popup__close popup__close_image\"\r\n            aria-label=\"Close popup\"\r\n            onClick={props.onClose}\r\n          >\r\n          </button>\r\n          <img\r\n            className=\"images__picture images__picture_fullscreen\"\r\n            src={props.card ? props.card.link : \"\"}\r\n            alt={props.card ? props.card.name: \"\"}\r\n          />\r\n          <p className=\"images__text images__text_fullscreen\">\r\n            {props.card ? props.card.name: \"\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  export default PopupWithImage;","class Api {\r\n    constructor (options) {\r\n        this.url = options.baseUrl;\r\n        this.authorization = options.authorization;\r\n    }\r\n\r\n\r\ngetInitialCards() {\r\n    return fetch(this.url+\"cards\", {\r\n        headers: {\r\n            authorization: this.authorization\r\n        }\r\n    })\r\n    .then(res=> {\r\n        if (res.ok) {\r\n\r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Error: ${res.status}`)\r\n    })\r\n    }\r\n\r\ngetUserInfo(){\r\n    return fetch(this.url+\"users/me\", {\r\n        headers:{\r\n            authorization: this.authorization\r\n        }\r\n    })\r\n    .then(res=> {\r\n        if (res.ok) {\r\n           \r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Error: ${res.status}`)\r\n    })\r\n    }\r\n\r\nupdateUserInfo(newInfo){\r\n    return fetch(this.url+\"users/me\", {\r\n        method: \"PATCH\",\r\n        headers: {\r\n            authorization: this.authorization,\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            name: newInfo.name,\r\n            about: newInfo.about\r\n        })\r\n    })\r\n    .then(res=> {\r\n            if (res.ok) {\r\n               \r\n                return res.json()\r\n            }\r\n            return Promise.reject(`Error: ${res.status}`)\r\n        })\r\n    }\r\n\r\npostNewCard(newCard) {\r\n        return fetch(this.url+\"cards\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                authorization: this.authorization,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                name: newCard.title,\r\n                link: newCard.url\r\n            })\r\n        })\r\n        .then(res=> {\r\n                if (res.ok) {\r\n                   \r\n                    return res.json()\r\n                }\r\n                return Promise.reject(`Error: ${res.status}`)\r\n            })\r\n    \r\n}    \r\n\r\ndeleteCard(id)    {\r\n    return fetch(this.url+\"cards\"+ \"/\" + id, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n        authorization: this.authorization,\r\n        \"Content-Type\": \"application/json\"\r\n    },\r\n})\r\n.then(res=> {\r\n        if (res.ok) {\r\n           \r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Error: ${res.status}`)\r\n    })\r\n\r\n}    \r\n\r\naddLike(id, isLiked) {\r\n    const method = isLiked ? \"DELETE\" : \"PUT\";\r\n    return fetch(this.url+\"cards/likes/\"+id, {\r\n        method: method,\r\n        headers:{\r\n            authorization: this.authorization\r\n        }\r\n    })\r\n    .then(res=> {\r\n        if (res.ok) {\r\n           \r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Error: ${res.status}`)\r\n    })\r\n    }\r\n\r\nupdateAvatar(avatarUrl) {\r\n    return fetch(this.url+\"users/me/avatar\", {\r\n        method: \"PATCH\",\r\n        headers: {\r\n            authorization: this.authorization,\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            avatar:avatarUrl\r\n        })\r\n        \r\n    })\r\n    .then(res=> {\r\n            if (res.ok) {\r\n               \r\n                return res.json()\r\n            }\r\n            return Promise.reject(`Error: ${res.status}`)\r\n        })\r\n}     \r\n\r\n}    \r\n\r\nexport const api = new Api({\r\n    baseUrl: \"https://around.nomoreparties.co/v1/group-5/\",\r\n    authorization: \"c3db06be-da70-4990-b8ca-8515a1d7c281\",   \r\n    }\r\n  );\r\n\r\n\r\n\r\n","function PopupWithForm(props) {\r\n  const isOpen = props.isOpen ? \"\" : \"popup_hidden\";\r\n  return (\r\n    <div className={`popup popup_form-${props.name} ${isOpen}`}>\r\n      <div className=\"popup__content\">\r\n        <form className={`popup__form popup__form_${props.name}`} noValidate onSubmit={props.onSubmit}>\r\n          <button\r\n            name=\"close_button\"\r\n            className={`popup__close popup__close_form-${props.name}`}\r\n            type=\"reset\"\r\n            aria-label=\"Close\"\r\n            onClick={props.onClose}\r\n          >\r\n          </button>\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup (props) {\r\nconst [name, setName] = React.useState(\"\")\r\nconst [description, setDescription] = React.useState(\"\")\r\nconst currentUser = React.useContext(CurrentUserContext);\r\n\r\nReact.useEffect(() => {\r\n    setName(currentUser && currentUser.name);\r\n    setDescription(currentUser && currentUser.about)\r\n}, [currentUser])\r\n\r\nfunction handleNameChange(e) {\r\n    setName(e.target.value)\r\n}\r\n\r\nfunction handleDescriptionChange(e) {\r\n    setDescription(e.target.value)\r\n}\r\n\r\nfunction handleSubmit(e) {\r\n  e.preventDefault();\r\n  props.onUpdateUser({\r\n    name,\r\n    about: description,\r\n  })\r\n}\r\n\r\n  return(\r\n    <PopupWithForm \r\n      onClose = {props.onClose}\r\n      name=\"edit\" \r\n      title = \"Edit Profile\" \r\n      isOpen = {props.isOpen}\r\n      onSubmit = {handleSubmit}\r\n      >\r\n        <input type=\"text\" \r\n          placeholder=\"Name\" \r\n          id=\"name-input\" \r\n          className=\"popup__field popup__field_name\" \r\n          name=\"name\" \r\n          value = {name || \"\"} \r\n          required minLength={2} \r\n          maxLength={40} \r\n          onChange = {handleNameChange}/>\r\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\r\n        <input type=\"text\" \r\n          placeholder=\"About\" \r\n          id=\"about-input\" \r\n          className=\"popup__field popup__field_about\" \r\n          name=\"about\" \r\n          value = {description || \"\"} \r\n          required minLength={2} \r\n          maxLength={200} \r\n          onChange = {handleDescriptionChange}/>\r\n        <span className=\"popup__input-error\" id=\"about-input-error\" /> \r\n        <input\r\n          type=\"submit\"\r\n          className=\"popup__save\"\r\n          aria-label=\"Save\"\r\n          defaultValue=\"Save\"\r\n      />\r\n    </PopupWithForm>\r\n  )\r\n}\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup (props) {\r\n\r\n    const avatarRef = React.useRef('')\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef\r\n      });\r\n    }\r\n\r\n    return(\r\n    <PopupWithForm\r\n        onClose = {props.onClose}\r\n        name=\"avatar\" \r\n        title = \"Change profile picture\" \r\n        isOpen = {props.isOpen}\r\n        onSubmit = {handleSubmit}> \r\n          <input \r\n            type=\"url\" \r\n            placeholder=\"Avatar Link\" \r\n            id=\"link-input\" \r\n            name=\"link\" \r\n            required \r\n            className=\"popup__field popup__field_link\" \r\n            ref={avatarRef}/>\r\n          <span \r\n            className=\"popup__input-error\" \r\n            id=\"link-input-error\" />\r\n          <input \r\n            type=\"submit\" \r\n            className=\"popup__save\" \r\n            aria-label=\"Save\" \r\n            defaultValue=\"Save\"\r\n      />\r\n      </PopupWithForm>\r\n    ) \r\n}\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddNewCardPopup (props) {\r\n\r\n    const [title, setTitle] = React.useState(\"\")\r\n    const [url, setUrl] = React.useState(\"\")\r\n    \r\n    function handleTitleChange(e) {\r\n        setTitle(e.target.value)\r\n    }\r\n    \r\n    function handleUrlChange(e) {\r\n        setUrl(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddCard({\r\n          title,\r\n          url,\r\n        })\r\n      }\r\n\r\n    return(\r\n        <PopupWithForm\r\n          onClose = {props.onClose}\r\n          onSubmit = {handleSubmit}\r\n          name=\"add\" \r\n          title = \"New Place\" \r\n          isOpen = {props.isOpen}>\r\n            <input type=\"text\" placeholder=\"Title\" id=\"title-input\" required minLength={1} maxLength={30} name=\"name\" className=\"popup__field popup__field_title\" onChange={handleTitleChange}/>\r\n            <span className=\"popup__input-error\" id=\"title-input-error\" />\r\n            <input type=\"url\" placeholder=\"Image Link\" id=\"link-input\" name=\"link\" required className=\"popup__field popup__field_link\" onChange={handleUrlChange}/>\r\n            <span className=\"popup__input-error\" id=\"link-input-error\" />\r\n            <input\r\n            type=\"submit\"\r\n            className=\"popup__save\"\r\n            aria-label=\"Save\"\r\n            defaultValue=\"Save\"\r\n          />\r\n      </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddNewCardPopup","import React from 'react'\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport PopupWithImage from './PopupWithImage';\nimport { api } from \"../utils/api.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddNewCardPopup from './AddNewCardPopup';\n\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((result) => {\n        setCards(result);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.addLike(card._id, isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard: c);\n      setCards(newCards);\n    })\n    .catch ((error) => {\n      console.log(error)\n    })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n  })\n  .catch ((error) => {\n    console.log(error)\n  })\n}\n\n\n\nfunction handleEditAvatarClick () {\n  setEditAvatarPopupOpen(true);\n}\n\nfunction handleEditProfileClick () {\n  setEditProfilePopupOpen(true);\n}\n\nfunction handleAddPlaceClick () {\n  setAddPlacePopupOpen(true);\n}\n\nfunction closeAllPopups () {\n  setEditAvatarPopupOpen(false);\n  setEditProfilePopupOpen(false);\n  setAddPlacePopupOpen(false);\n  setSelectedCard(null)\n}\n\nfunction handleCardClick(card) {\n  setSelectedCard(card)\n}\n\nfunction handleUpdateUser({name, about}) {\n  api.updateUserInfo({name, about})\n  .then((data)=> {\n    setCurrentUser(data);\n  })\n  .catch ((error) => {\n    console.log(error)\n  })\n  closeAllPopups();\n}\n\nfunction handleUpdateAvatar({avatar}) {\n  api.updateAvatar(avatar.current.value)\n  .then((data) => {\n  setCurrentUser(data);\n})\n  .catch ((error) => {\n  console.log(error)\n})\n  closeAllPopups();  \n}\n\nfunction handleAddPlaceSubmit({title, url}) {\n  api.postNewCard({title, url}).then((data) => {\n    setCards([data, ...cards])\n  })\n  .catch ((error) => {\n    console.log(error)\n  })\n  closeAllPopups();\n}\n\nReact.useEffect(() => {\n  api\n    .getUserInfo()\n    .then((result) => {\n      setCurrentUser(result);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}, []);\n\n  return (\n    <CurrentUserContext.Provider value = {currentUser}>\n    <div className = \"page\">\n      <Header />\n      <Main \n        onEditProfile = {handleEditProfileClick}\n        onAddPlace = {handleAddPlaceClick}\n        onEditAvatar = {handleEditAvatarClick}\n        onCardClick = {handleCardClick}\n        cards={cards}\n        onCardDelete = {handleCardDelete}\n        onCardLike={handleCardLike}\n      />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      /> \n      <AddNewCardPopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddCard={handleAddPlaceSubmit}\n      />\n      <EditAvatarPopup \n        isOpen = {isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        />\n      <PopupWithImage \n        onClose = {closeAllPopups}\n        card = {selectedCard}/>          \n      <Footer />\n    </div> \n    </CurrentUserContext.Provider>  \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}